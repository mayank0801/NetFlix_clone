{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lenovo/Desktop/50 day/JAVASCRIPT/CODE/15july/netflix-clone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/lenovo/Desktop/50 day/JAVASCRIPT/CODE/15july/netflix-clone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/lenovo/Desktop/50 day/JAVASCRIPT/CODE/15july/netflix-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'./axios';import\"./Row.css\";import Yotube from\"react-youtube\";import movieTrailer from\"movie-trailer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var base_url=\"https://image.tmdb.org/t/p/original/\";function Row(_ref){var title=_ref.title,fetchUrl=_ref.fetchUrl,isLargeRow=_ref.isLargeRow;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),trailerUrl=_useState4[0],setTrailerUrl=_useState4[1];useEffect(function(){//run once\nfunction fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(fetchUrl);case 2:request=_context.sent;// console.log(request);\nsetMovies(request.data.results);return _context.abrupt(\"return\",request);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[fetchUrl]);// console.table(movies);\nvar opts={height:\"390\",width:\"99%\",playerVars:{autoplay:0}};var handleClick=function handleClick(movie){if(trailerUrl){setTrailerUrl('');}else{movieTrailer((movie===null||movie===void 0?void 0:movie.title)||\"\").then(function(url){var urlParams=new URLSearchParams(new URL(url).search);setTrailerUrl(urlParams.get(\"v\"));}).catch(function(error){return console.log(error);});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsx(\"div\",{className:\"row_posters\",children:movies.map(function(movie){return/*#__PURE__*/_jsx(\"img\",{onClick:function onClick(){return handleClick(movie);},className:\"row_poster \".concat(isLargeRow&&\"row_posterLarge\"),src:\"\".concat(base_url).concat(isLargeRow?movie.poster_path:movie.backdrop_path),alt:movie.name},movie.id);})}),trailerUrl&&/*#__PURE__*/_jsx(Yotube,{videoId:trailerUrl,opts:opts})]});}export default Row;","map":{"version":3,"names":["React","useState","useEffect","axios","Yotube","movieTrailer","base_url","Row","title","fetchUrl","isLargeRow","movies","setMovies","trailerUrl","setTrailerUrl","fetchData","get","request","data","results","opts","height","width","playerVars","autoplay","handleClick","movie","then","url","urlParams","URLSearchParams","URL","search","catch","error","console","log","map","poster_path","backdrop_path","name","id"],"sources":["C:/Users/lenovo/Desktop/50 day/JAVASCRIPT/CODE/15july/netflix-clone/src/Row.js"],"sourcesContent":["import React, { useState,useEffect} from 'react';\r\nimport axios from './axios';\r\nimport \"./Row.css\";\r\nimport Yotube from \"react-youtube\";\r\nimport movieTrailer from \"movie-trailer\";\r\nconst base_url=\"https://image.tmdb.org/t/p/original/\";\r\nfunction Row({title,fetchUrl,isLargeRow}){\r\n    const [movies,setMovies]=useState([]);\r\n    const[trailerUrl,setTrailerUrl]=useState(\"\");\r\n\r\nuseEffect(()=>{\r\n    //run once\r\n    async function fetchData(){\r\n        const request=await axios.get(fetchUrl);\r\n        // console.log(request);\r\n        setMovies(request.data.results);\r\n        return request;\r\n    }\r\n    fetchData();\r\n    \r\n},[fetchUrl]);\r\n\r\n// console.table(movies);\r\n\r\nconst opts={\r\n    height:\"390\",\r\n    width:\"99%\",\r\n    playerVars: {\r\n        autoplay:0,\r\n    },\r\n}\r\n\r\nconst handleClick=(movie)=>{\r\n    if(trailerUrl){\r\n        setTrailerUrl('');\r\n    }else {\r\n        movieTrailer(movie?.title || \"\")\r\n        .then(url=>{\r\n        const urlParams=new URLSearchParams(new URL(url).search);\r\n        setTrailerUrl(urlParams.get(\"v\"));\r\n         })\r\n         .catch((error)=>console.log(error));\r\n    }\r\n}\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            {/*     Title         */}\r\n            <h2>{title}</h2>\r\n            <div className=\"row_posters\">\r\n                \r\n           \r\n\r\n\r\n            {movies.map(movie=>(\r\n                <img\r\n                key={movie.id}\r\n                onClick={()=>handleClick(movie)}\r\n                className={`row_poster ${isLargeRow && \"row_posterLarge\"}`}\r\n                src=\r\n                {`${base_url}${isLargeRow ? movie.poster_path : movie.backdrop_path}`}\r\n                 alt={movie.name}/>\r\n            ))}\r\n\r\n\r\n            </div>\r\n            {/* <div style={{padding:\"40px\"}}> */}\r\n               {trailerUrl && <Yotube videoId={trailerUrl} opts={opts}/>}\r\n\r\n{/* </div> */}\r\n        \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Row;"],"mappings":"2dAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,MAAP,KAAkB,SAAlB,CACA,MAAO,WAAP,CACA,MAAOC,OAAP,KAAmB,eAAnB,CACA,MAAOC,aAAP,KAAyB,eAAzB,C,wFACA,GAAMC,SAAQ,CAAC,sCAAf,CACA,QAASC,IAAT,MAAyC,IAA3BC,MAA2B,MAA3BA,KAA2B,CAArBC,QAAqB,MAArBA,QAAqB,CAAZC,UAAY,MAAZA,UAAY,CACrC,cAAyBT,QAAQ,CAAC,EAAD,CAAjC,wCAAOU,MAAP,eAAcC,SAAd,eACA,eAAgCX,QAAQ,CAAC,EAAD,CAAxC,yCAAMY,UAAN,eAAiBC,aAAjB,eAEJZ,SAAS,CAAC,UAAI,CACV;AADU,QAEKa,UAFL,uIAEV,uKACwBZ,MAAK,CAACa,GAAN,CAAUP,QAAV,CADxB,QACUQ,OADV,eAEI;AACAL,SAAS,CAACK,OAAO,CAACC,IAAR,CAAaC,OAAd,CAAT,CAHJ,gCAIWF,OAJX,wDAFU,4CAQVF,SAAS,GAEZ,CAVQ,CAUP,CAACN,QAAD,CAVO,CAAT,CAYA;AAEA,GAAMW,KAAI,CAAC,CACPC,MAAM,CAAC,KADA,CAEPC,KAAK,CAAC,KAFC,CAGPC,UAAU,CAAE,CACRC,QAAQ,CAAC,CADD,CAHL,CAAX,CAQA,GAAMC,YAAW,CAAC,QAAZA,YAAY,CAACC,KAAD,CAAS,CACvB,GAAGb,UAAH,CAAc,CACVC,aAAa,CAAC,EAAD,CAAb,CACH,CAFD,IAEM,CACFT,YAAY,CAAC,CAAAqB,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAElB,KAAP,GAAgB,EAAjB,CAAZ,CACCmB,IADD,CACM,SAAAC,GAAG,CAAE,CACX,GAAMC,UAAS,CAAC,GAAIC,gBAAJ,CAAoB,GAAIC,IAAJ,CAAQH,GAAR,EAAaI,MAAjC,CAAhB,CACAlB,aAAa,CAACe,SAAS,CAACb,GAAV,CAAc,GAAd,CAAD,CAAb,CACE,CAJF,EAKEiB,KALF,CAKQ,SAACC,KAAD,QAASC,QAAO,CAACC,GAAR,CAAYF,KAAZ,CAAT,EALR,EAMH,CACJ,CAXD,CAeI,mBACI,aAAK,SAAS,CAAC,KAAf,wBAEI,oBAAK1B,KAAL,EAFJ,cAGI,YAAK,SAAS,CAAC,aAAf,UAKCG,MAAM,CAAC0B,GAAP,CAAW,SAAAX,KAAK,qBACb,YAEA,OAAO,CAAE,yBAAID,YAAW,CAACC,KAAD,CAAf,EAFT,CAGA,SAAS,sBAAgBhB,UAAU,EAAI,iBAA9B,CAHT,CAIA,GAAG,WACCJ,QADD,SACYI,UAAU,CAAGgB,KAAK,CAACY,WAAT,CAAuBZ,KAAK,CAACa,aADnD,CAJH,CAMC,GAAG,CAAEb,KAAK,CAACc,IANZ,EACKd,KAAK,CAACe,EADX,CADa,EAAhB,CALD,EAHJ,CAqBQ5B,UAAU,eAAI,KAAC,MAAD,EAAQ,OAAO,CAAEA,UAAjB,CAA6B,IAAI,CAAEO,IAAnC,EArBtB,GADJ,CA4BH,CAED,cAAeb,IAAf"},"metadata":{},"sourceType":"module"}